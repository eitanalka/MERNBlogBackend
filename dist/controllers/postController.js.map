{"version":3,"sources":["../../server/controllers/postController.js"],"names":["postController","getAll","req","res","Post","find","limit","then","posts","status","json","success","data","catch","err","message","get","findById","_id","params","id","post","body","title","category","content","save","newPost","delete","findByIdAndRemove"],"mappings":";;;;;;AAAA;;;;;;AAEA,IAAMA,iBAAiB,EAAvB;;AAEAA,eAAeC,MAAf,GAAwB,UAACC,GAAD,EAAMC,GAAN,EAAc;AACpC,mBAAGC,IAAH,CAAQC,IAAR,CAAa,EAAb,EAAiB,oBAAjB,EAAuCC,KAAvC,CAA6C,EAA7C,EAAiDC,IAAjD,CAAsD,UAACC,KAAD,EAAW;AAC/D,WAAOL,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,eAAS,IADiB;AAE1BC,YAAMJ;AAFoB,KAArB,CAAP;AAID,GALD,EAKGK,KALH,CAKS,UAACC,GAAD,EAAS;AAChB,WAAOX,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BK,eAASD;AADiB,KAArB,CAAP;AAGD,GATD;AAUD,CAXD;;AAaAd,eAAegB,GAAf,GAAqB,UAACd,GAAD,EAAMC,GAAN,EAAc;AACjC,mBAAGC,IAAH,CAAQa,QAAR,CAAiB,EAAEC,KAAKhB,IAAIiB,MAAJ,CAAWC,EAAlB,EAAjB,EAAwCb,IAAxC,CAA6C,UAACc,IAAD,EAAU;AACrD,WAAOlB,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,eAAS,IADiB;AAE1BC,YAAMS;AAFoB,KAArB,CAAP;AAID,GALD,EAKGR,KALH,CAKS,UAACC,GAAD,EAAS;AAChB,WAAOX,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BK,eAASD;AADiB,KAArB,CAAP;AAGD,GATD;AAUD,CAXD;;AAaAd,eAAeqB,IAAf,GAAsB,UAACnB,GAAD,EAAMC,GAAN,EAAc;AAAA,kBAK9BD,IAAIoB,IAL0B;AAAA,MAEhCC,KAFgC,aAEhCA,KAFgC;AAAA,MAGhCC,QAHgC,aAGhCA,QAHgC;AAAA,MAIhCC,OAJgC,aAIhCA,OAJgC;;;AAOlC,MAAMJ,OAAO,IAAI,iBAAGjB,IAAP,CAAY;AACvBmB,gBADuB;AAEvBC,sBAFuB;AAGvBC;AAHuB,GAAZ,CAAb;;AAMAJ,OAAKK,IAAL,GAAYnB,IAAZ,CAAiB,UAACoB,OAAD,EAAa;AAC5B,WAAOxB,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,eAAS,IADiB;AAE1BC,YAAMe;AAFoB,KAArB,CAAP;AAID,GALD,EAKGd,KALH,CAKS,UAACC,GAAD,EAAS;AAChB,WAAOX,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BK,eAASD;AADiB,KAArB,CAAP;AAGD,GATD;AAUD,CAvBD;;AAyBAd,eAAe4B,MAAf,GAAwB,UAAC1B,GAAD,EAAMC,GAAN,EAAc;AACpC,mBAAGC,IAAH,CAAQyB,iBAAR,CAA0B3B,IAAIiB,MAAJ,CAAWC,EAArC,EAAyCb,IAAzC,CAA8C,UAACc,IAAD,EAAU;AACtD,WAAOlB,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,eAAS,IADiB;AAE1BC,YAAMS;AAFoB,KAArB,CAAP;AAID,GALD,EAKGR,KALH,CAKS,UAACC,GAAD,EAAS;AAChB,WAAOX,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BK,eAASD;AADiB,KAArB,CAAP;AAGD,GATD;AAUD,CAXD;;kBAaed,c","file":"postController.js","sourcesContent":["import db from './../models';\n\nconst postController = {};\n\npostController.getAll = (req, res) => {\n  db.Post.find({}, '_id title category').limit(40).then((posts) => {\n    return res.status(200).json({\n      success: true,\n      data: posts\n    });\n  }).catch((err) => {\n    return res.status(500).json({\n      message: err\n    });\n  });\n};\n\npostController.get = (req, res) => {\n  db.Post.findById({ _id: req.params.id}).then((post) => {\n    return res.status(200).json({\n      success: true,\n      data: post\n    });\n  }).catch((err) => {\n    return res.status(500).json({\n      message: err\n    });\n  });\n};\n\npostController.post = (req, res) => {\n  const {\n    title,\n    category,\n    content\n  } = req.body;\n\n  const post = new db.Post({\n    title,\n    category,\n    content\n  });\n\n  post.save().then((newPost) => {\n    return res.status(200).json({\n      success: true,\n      data: newPost\n    });\n  }).catch((err) => {\n    return res.status(500).json({\n      message: err\n    });\n  });\n};\n\npostController.delete = (req, res) => {\n  db.Post.findByIdAndRemove(req.params.id).then((post) => {\n    return res.status(200).json({\n      success: true,\n      data: post\n    });\n  }).catch((err) => {\n    return res.status(500).json({\n      message: err\n    });\n  });\n};\n\nexport default postController;\n"]}